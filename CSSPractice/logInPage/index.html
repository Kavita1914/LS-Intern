<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Log in page</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body
    class="bg-primary-subtle"
    style="
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      width: 100vw;
    "
  >
    <p id="demo"></p>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <div
      style="
        line-height: 25px;
        z-index: 2;
        width: 100%;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background-image: url(./vecteezy_white-background-with-blue-geometric-and-white-line-pattern_7677104-1.jpg);
      "
    >
      <div
        style="
          height: 350px;
          width: 400px;
          background-color: rgb(176, 176, 236);
          border-radius: 20px;
        "
      ><div style="margin-top: 5px; margin-left: 5px;">
        <label for="date">Date:</label>
        <input type="date" id="dateInput">
      </div>
        <div
          style="
            width: 300px;
            height: auto;
            margin-top: 50px;
            margin-left: 20px;
          "
        >
          <label for="exampleInputEmail1" class="form-label">Email ID</label><br>
          <input
            type="email"
            id="exampleInputEmail1"
            aria-describedby="emailHelp"
          />
        </div>
        <div
          style="
            width: 300px;
            height: auto;
            margin-top: 20px;
            margin-left: 20px;
          "
        >
          <label for="exampleInputPassword1" class="form-label">Password</label><br>
          <input
            type="password"
            id="exampleInputPassword1">
          <i class="fa fa-eye" id="togglePassword"></i>
        </div>
        <div style="display: flex;margin-top: 30px; margin-left: 20px">
          <div>
            <button onclick="validData()" class="btn btn-primary">Log in</button>
          </div>
          <!-- <div style="margin-left: 10px;">
            <button onclick="createAccount()" class="btn btn-primary">Create Account</button>
          </div> -->
        </div>
        <div
          style="
            background-color: rgb(203, 36, 36);
            margin-top: 20px;
            margin-left: 20px;
            width: 300px;
          "
          id="error"
        ></div>
      </div>
    </div>
    <div
      style="
        width: 50%;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
      "
    >
      <div style="display: flex">
        <img src="./mainbackground.jpg" height="990px" width="1000px" />
      </div>
      <div style="position: absolute; z-index: 2">
        <img
          src="./vecteezy_ai-generated-cat-looking-torn-hole-png_38071966.png"
          height="330px"
          width="450px"
        />
      </div>
      <div style="position: absolute">
        <img src="./graph.png" height="600px" width="600px" />
      </div>
    </div>

    <script>
      //   const data = [ { Name : "Kavita", emailID : "kavita2024@gmail.com", password : "kavita" },
      //       {Name : "Suman", emailID : "suman2024@gmail.com", password : "suman" },
      //       {Name : "Ritik", emailID : "ritik2024@gmail.com", password : "ritik" },
      //       {Name : "Mrinal", emailID : "mrinal2024@gmail.com", password : "mrinal"}]
      // localStorage.setItem("Users", JSON.stringify(data))

      function validData() {
        let data = JSON.parse(localStorage.getItem("Users"));
        let emailIDGiven = document.getElementById("exampleInputEmail1").value;
        let passwordGiven = document.getElementById("exampleInputPassword1").value;

        let dateInput = document.getElementById('dateInput').value;
        let selectedDate = new Date(dateInput);
        localStorage.setItem('selectedDate', selectedDate.toISOString());
        // console.log("11111", data);
        for (let i in data) {
        //   console.log("2222222", i);
          if (
            emailIDGiven === data[i].emailID &&
            passwordGiven === data[i].password
          ) {
            console.log(window.location.href);
            console.log("valid");
            window.location.href = "./page.html";
          } else {
            document.getElementById("error").innerHTML = "Invalid email or password given!";
          }
        }
      }
      function createAccount() {
        window.location.href = "./createAccount.html";
      }
      const icon = document.getElementById("togglePassword");
      let password = document.getElementById("exampleInputPassword1");

      icon.addEventListener("click", function () {
        if (password.type === "password") {
          password.type = "text";
          icon.classList.add("fa-eye-slash");
          icon.classList.remove("fa-eye");
        } else {
          password.type = "password";
          icon.classList.add("fa-eye");
          icon.classList.remove("fa-eye-slash");
        }
      });
      
      console.log("hhhhhh", selectedDate)
    </script>
  </body>
</html>
